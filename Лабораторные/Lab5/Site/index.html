<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторная №2 - Рефакторинг</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <style>
        .active {
            background-color: lightblue;
        }
        .highlight {
            box-shadow: 0 0 10px rgba(165, 58, 58, 0.5);
        }
        aside {
            cursor: pointer;
            transition: font-size 0.3s, transform 0.3s;
        }
        aside.enlarged {
            font-size: 2em;
            transform: scale(1.5);
            position: fixed;
            top: 50%;
            left: 50%;
            color: black;

            transform: translate(-50%, -50%) scale(1.5);
            z-index: 1000;
        }
        aside.enlarged::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: black;

            background-color: rgba(219, 219, 219, 0.412);
            z-index: 999;
        }
        header img {
            transition: opacity 0.3s;
        }
        .nav {
            justify-content: center;
            display: flex;
        }
        .menu-item {
            position: relative;
            padding: 10px 15px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .menu-item:hover {
            background-color: lightgray;
        }
        .submenu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: white;
            border: 1px solid #ccc;
            z-index: 1000;
            min-width: 150px;
        }
        .menu-item:hover > .submenu {
            display: block;
        }
        .submenu a {
            display: block;
            padding: 5px 10px;
            color: black;
            text-decoration: none;
        }
        .submenu a:hover {
            background-color: lightblue;
        }
    </style>
</head>
<body class="bg-light">
    <header class="bg-light py-3">
        <div class="container d-flex align-items-center">
            <img src="logo.png" alt="Логотип" class="mr-3" id="logo" style="opacity: 1; width: 50px; height: 50px;">
            <h1 class="m-0">Лабораторная работа №2</h1>
        </div>
    </header>

    <main class="container mt-5 pt-5 bg-white">
        <nav class="nav">
            <div class="menu-item">
                <a href="#article1">Раздел 1</a>
                <div class="submenu">
                    <a href="#section1-1">Контакты</a>
                    <a href="#section1-2">Кулинарные рецепты</a>
                </div>
            </div>
            <div class="menu-item">
                <a href="#article2">Раздел 2</a>
                <div class="submenu">
                    <a href="#section2-1">Грибы</a>
                    <a href="#section2-2">Мухоморы</a>
                </div>
            </div>
            <div class="menu-item">
                <a href="article3">Раздел 3</a>
                <div class="submenu">
                    <a href="#section3-1">Бобры сибири</a>
                    <a href="#section3-2">Сладости</a>
                </div>
            </div>
        </nav>

        <article id="article1" class="my-4">
            <h2>Раздел 1</h2>
            <section id="section1-1">
                <h3>Контакты</h3>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam a lectus vel sapien pharetra mollis. Integer varius sit amet lorem consequat suscipit. Nulla in libero in nunc convallis fringilla. Donec pharetra libero at dui mattis, in imperdiet erat sodales. Nunc posuere, lorem in blandit imperdiet, lorem nisi gravida turpis, eu feugiat risus odio ut metus. Maecenas at laoreet orci. Curabitur purus orci, feugiat ut odio id, suscipit finibus diam. Nulla facilisi. Nullam et nisl id lectus dictum rutrum eu sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie sapien vel nisl facilisis gravida.
            </section>
            <section id="section1-2">
                <h3>Кулинарные рецепты</h3>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam a lectus vel sapien pharetra mollis. Integer varius sit amet lorem consequat suscipit. Nulla in libero in nunc convallis fringilla. Donec pharetra libero at dui mattis, in imperdiet erat sodales. Nunc posuere, lorem in blandit imperdiet, lorem nisi gravida turpis, eu feugiat risus odio ut metus. Maecenas at laoreet orci. Curabitur purus orci, feugiat ut odio id, suscipit finibus diam. Nulla facilisi. Nullam et nisl id lectus dictum rutrum eu sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie sapien vel nisl facilisis gravida.
            </section>
        </article>

        <article id="article2" class="my-4">
            <h2>Раздел 2</h2>
            <section id="section2-1">
                <h3>Грибы</h3>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam a lectus vel sapien pharetra mollis. Integer varius sit amet lorem consequat suscipit. Nulla in libero in nunc convallis fringilla. Donec pharetra libero at dui mattis, in imperdiet erat sodales. Nunc posuere, lorem in blandit imperdiet, lorem nisi gravida turpis, eu feugiat risus odio ut metus. Maecenas at laoreet orci. Curabitur purus orci, feugiat ut odio id, suscipit finibus diam. Nulla facilisi. Nullam et nisl id lectus dictum rutrum eu sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie sapien vel nisl facilisis gravida.
            </section>
            <section id="section2-2">
                <h3>Мухоморы</h3>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam a lectus vel sapien pharetra mollis. Integer varius sit amet lorem consequat suscipit. Nulla in libero in nunc convallis fringilla. Donec pharetra libero at dui mattis, in imperdiet erat sodales. Nunc posuere, lorem in blandit imperdiet, lorem nisi gravida turpis, eu feugiat risus odio ut metus. Maecenas at laoreet orci. Curabitur purus orci, feugiat ut odio id, suscipit finibus diam. Nulla facilisi. Nullam et nisl id lectus dictum rutrum eu sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie sapien vel nisl facilisis gravida.
            </section>
        </article>

        <article id="article3" class="my-4">
            <h2>Раздел 3</h2>
            <section id="section3-1">
                <h3>Бобры сибири</h3>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam a lectus vel sapien pharetra mollis. Integer varius sit amet lorem consequat suscipit. Nulla in libero in nunc convallis fringilla. Donec pharetra libero at dui mattis, in imperdiet erat sodales. Nunc posuere, lorem in blandit imperdiet, lorem nisi gravida turpis, eu feugiat risus odio ut metus. Maecenas at laoreet orci. Curabitur purus orci, feugiat ut odio id, suscipit finibus diam. Nulla facilisi. Nullam et nisl id lectus dictum rutrum eu sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie sapien vel nisl facilisis gravida.
            </section>
            <section id="section3-2">
                <h3>Сладости</h3>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam a lectus vel sapien pharetra mollis. Integer varius sit amet lorem consequat suscipit. Nulla in libero in nunc convallis fringilla. Donec pharetra libero at dui mattis, in imperdiet erat sodales. Nunc posuere, lorem in blandit imperdiet, lorem nisi gravida turpis, eu feugiat risus odio ut metus. Maecenas at laoreet orci. Curabitur purus orci, feugiat ut odio id, suscipit finibus diam. Nulla facilisi. Nullam et nisl id lectus dictum rutrum eu sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie sapien vel nisl facilisis gravida.
            </section>
        </article>

        <div class="table-responsive mt-4">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Столбец 1</th>
                        <th>Столбец 2</th>
                        <th>Столбец 3</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ячейка 1-1</td>
                        <td>Ячейка 1-2</td>
                        <td>Ячейка 1-3</td>
                    </tr>
                    <tr>
                        <td>Ячейка 2-1</td>
                        <td>Ячейка 2-2</td>
                        <td>Ячейка 2-3</td>
                    </tr>
                    <tr>
                        <td>Ячейка 3-1</td>
                        <td>Ячейка 3-2</td>
                        <td>Ячейка 3-3</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <aside class="mt-4">Maecenas dictum, ipsum eget tristique finibus, risus risus cursus ipsum, sed feugiat erat lectus vitae massa. Sed ut consequat neque. Morbi risus ex, imperdiet sed risus ullamcorper, vehicula consequat ligula. Nam egestas leo vel erat efficitur rhoncus. Ut eu dapibus velit. Donec elementum at lectus quis tempor. Ut efficitur ipsum sapien </aside>
        <aside class="mt-4">Aliquam laoreet est lobortis tristique commodo. Nulla non ornare urna. Curabitur posuere, elit eget sodales lacinia, quam diam vulputate sem, in venenatis tortor turpis quis enim. Curabitur sodales nisl quis accumsan blandit. Nullam cursus eros et eros iaculis blandit. Sed sit amet ligula sem. Phasellus volutpat odio erat</aside>
    </main>

    <footer class="bg-light py-4">
        <div class="container">
            <div class="d-flex justify-content-between">
                <div class="footer-links">
                    <a href="#">О сайте</a>
                    <a href="#">Правовая информация</a>
                </div>
                <address>
                    <a href="mailto:example@example.com">example@example.com</a>
                </address>
            </div>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.menu-item > span, .submenu > a').on('click', function (e) {
                e.preventDefault();
                // Удаляем подсветку у всех разделов
                $('article, section').css('background-color', '');
                
                // Определяем целевой раздел
                const targetId = $(this).attr('href') || $(this).closest('.menu-item').find('.submenu a:first').attr('href');
                if (targetId) {
                    $(targetId).css('background-color', 'lightyellow'); // Подсвечиваем раздел
                    $('html, body').animate({
                        scrollTop: $(targetId).offset().top - 70
                    }, 500);
                }
            });
            $('th').on('click', function () {
                const index = $(this).index();
                $('td').removeClass('highlight');
                $(`td:nth-child(${index + 1})`).toggleClass('highlight');
            });

            $('aside').on('click', function () {
                $(this).toggleClass('enlarged');
            });

            let blinkInterval;
            $('#logo').mouseenter(() => {
                let opacity = 0.5;
                blinkInterval = setInterval(() => {
                    opacity = (opacity === 0.5) ? 0 : 0.5; // Меняем прозрачность
                    $('#logo').css('opacity', opacity);
                }, 500); // Интервал мигания - 500 мс
            }).mouseleave(() => {
                clearInterval(blinkInterval); // Останавливаем мигание при уходе курсора
                $('#logo').css('opacity', 1); // Устанавливаем полную видимость
            });
        });
    </script>
</body>
</html>
